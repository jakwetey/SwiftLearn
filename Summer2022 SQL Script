-------5/11/2022
---DATA DEFINITION LANGUAGE (DDL) COMMAMDS
--CREATE -- create databases/tables/schemas
--ALTER -- modifies an existing table
---DROP -- remove or delete an entire table or constraint
--TRUNCTATE -- removes all records from a table but maintans the structure.

---SYNTAX
-- CREATE DATABASE DATABASENAME;

--CREATEING DATABASE COMPANY_DB
CREATE DATABASE COMPANY_DB;

----SYNTAX
--CREATE TABLE TABLENAME
--(
--COLUMNNAME DATATYPE CONSTRAINT,
--COLUMNNAME2 DATATYPE CONSTRAINT,
--COLUMNNAME3 DATATYPE CONSTRAINT,
--COLUMNNAME4 DATATYPE CONSTRAINT,
--...
--);

--CREATING EMPLOYEE TABLE
CREATE TABLE EMPLOYEE
(
EMP_ID  INT IDENTITY(1000, 1),
FNAME VARCHAR(50) NOT NULL,
LNAME VARCHAR(50) NOT NULL,
DOB DATE NOT NULL,
GENDER CHAR(1) NULL,
PHONE CHAR(10) NULL,
CITY VARCHAR(20) NOT NULL,
STATE CHAR(2) NOT NULL,
ZIP CHAR(5) NOT NULL
);

---PRIMARY KEY IS A UNIQUE IDENTIFIER IN A TABLE

-- SYNTAX
--ALTER TABLE TABLENAME
--ADD CONSTRAINT CONSTRAINTNAME PRIMARY KEY(COLUMNNAME);

--ADDING PK TO EMPLOYEE TABLE
ALTER TABLE EMPLOYEE
ADD CONSTRAINT PK_EMPLOYEE_EMP_ID PRIMARY KEY (EMP_ID);

--CREATING DEPARTMENT TABLE
CREATE TABLE DEPARTMENT
(
DEP_ID VARCHAR(5) NOT NULL,
DEP_NAME VARCHAR(50) NOT NULL,
DEP_STATE CHAR(2) NULL
);

-- ADDING PK CONSTRAINT
ALTER TABLE DEAPARTMENT
ADD CONSTRAINT PK_DEPARTMENT_DEP_ID PRIMARY KEY (DEP_ID);


--SYNTAX
--ALTER TABLE TABLENAME
--ADD COLUMNNMAE DATATYPE CONSTRAINT;

---ADDING COLUMN TO EMPLOYEE
ALTER TABLE EMPLOYEE
ADD DEP_ID VARCHAR(5) NOT NULL;

--FOREIGN KEY
-- A COLUMN OR FIELD IN ONE TABLE THAT REFERS TO THE PRIMARY KEY COLUMN IN 
--ANOTHER TABLE.

--SYNTAX
--ALTER TABLE CHILDTABLE
--ADD CONSTRAINT CONSTRAINTNME FOREIGN KEY (COLUMN)
--REFERENCES PARENTTABLE(COLUMN)

--ADDING FK TO EMPLOYEE TABLE
ALTER TABLE EMPLOYEE
ADD CONSTRAINT FK_EMPLOYEE_DEP_ID FOREIGN KEY(DEP_ID)
REFERENCES DEPARTMENT(DEP_ID);

---RENAMING TABLE
EXEC SP_RENAME 'DEAPARTMENT', 'DEPARTMENT';

-- SYNTAX
--ALTER TABLE TABLENAME
--ALTER COLUMN COLUMNNAME DATATYPE CONSTRAINT;

--MODIFYING PHONE DATATYPE
ALTER TABLE EMPLOYEE
ALTER COLUMN PHONE CHAR(12);

--ADDING SSN COLUMN 
ALTER TABLE EMPLOYEE
ADD SSN CHAR(9) NOT NULL;

--DROP
--SYNTAX
--ALTER TABLE TABLENAME
--DROP COLUMN COLUMNNAME;

---REMOVING SSN COLUMN
ALTER TABLE EMPLOYEE
DROP COLUMN SSN;

--UNIQUE CONSTRAINT ENSURES THAT ALL VALUES IN A COLUMN ARE DISTINCT.
--AND THERE CAN BE MORE THAN ONE DEFINED ON A TABLE

--ADDING UNIQUE CONSTRAINT TO SSN COLUMN
ALTER TABLE EMPLOYEE 
ADD CONSTRAINT UQ_EMPLOYEE_SSN UNIQUE(SSN);

-- DEFAULT CONSTRAINT WILL AUTOMATICALLY ASSIGN A VALUE IF NO VALUE WAS INSTERED.
-- ADDING DEFAULT VALUE OF N FOR GENDER WHEN NO VALUE IS SPECIFIED
ALTER TABLE EMPLOYEE
ADD CONSTRAINT DFT_EMPLOYEE_GENDER DEFAULT ('N') FOR GENDER;

--CHECK CONSTRAINT VERIFIES THAT ALL VALUES IN A FIELD SATISFY A GIVEN CONDITION.
-- ADDING CHECK TO VERIFY EMPLOYEE STATE
ALTER TABLE EMPLOYEE
ADD CONSTRAINT CHK_EMPLOYEE_STATE CHECK (STATE IN ('DC', 'MD', 'VA'));


-------5/12/2022


